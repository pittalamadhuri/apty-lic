# letzNav Licence CLI

This is a command line utility that allows user to generate licence keys for individual applications managed by letzNav.

## Build
- `npm install` to install the dependencies
- `npm start` to create a development build and watch the source files
- `npm run build` to create a production build

## Command Line Options
- `-c, --customer` the name of the customer for which the licence is being generated
- `-a, --applicationName` the name of the application
- `-u, --applicationUri` the URI of the application
- `[-m, --adminsCount]` the maximum number of administrators; default is 1
- `[-g, --globalAdminsCount]` the maximum number of global administrators; default is 1
- `-v, --validTo` the date of the licence expiration
- `-k, --keyPath` path to the private key used for signing the licence
- `[-o, --outputPath]` path where the licence file should be created; default is ./licence.json
- `-h, --help` display usage guide

## Development keys
A key pair for development purposes has been created. The private key is located in ./development.pem. The public key is in ../../server/src/assets/licence.pem.

A licence for the default Excers application has been generated by this tool and put to database by the init_db_data.sql script. It is signed by the development keys and its content is
```javascript
{"data":{"customer":"Salsita","applicationName":"Excers","applicationUri":"http://111.93.27.187:8889/","created":"2017-08-24T08:13:38.053Z","validTo":"2017-12-31T00:00:00.000Z","adminsCount":"1","globalAdminsCount":"1"},"signature":"fXBpqwngGK5OqehDHR7x3ftwogNnTkHVQ/1r2bSaDsmCdqKyn9pqF597Wocw2MvnNl0DyxPbyJMQobJ01kWkz2rN7Of/cmyvjuma9B8HPbOCR1T7pQQfaBfrFyWtk+cscx58CWaZp8n6qizQ9KpV2BBfxrDmOhYudBIuIsDkc/m2KV9PpoEoU9XJfgKIIntqsmL5sak7rLXLDJazal0jdQtVMphz5ZzRHWFTBA7De5QGFicZHUxJ9b3vne+FSCX94LE9UbGZnvYYEjk5mUzIBJ43GeXFDrZgcgCW9Vp7fnHplEN3SFRoJ6sYl3tQYIHxxeirRu5da2ovahsPja35dg=="}
```

The command line used to generate it is
`node index.js -a Excers -c Salsita -u http://111.93.27.187:8889/ -v '2017-12-31' -k development.pem`